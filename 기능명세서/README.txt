# 기능 명세서

## 1. 유저 관리 (User Service)

### 1.1 회원가입
- **기능 설명**: 사용자가 `아이디`와 `비밀번호`를 입력하여 회원가입하거나, `solved.ac API`를 통해 초기 회원가입을 진행.
- **요구사항**:
  - `아이디`, `비밀번호`를 입력받아 회원가입 처리.
  - `solved.ac API`를 사용하여 사용자 정보를 검증하고 초기 회원가입.

### 1.2 로그인
- **기능 설명**: 사용자 아이디/비밀번호 또는 `solved.ac` 로그인 방식으로 로그인 가능.
- **요구사항**:
  - 사이트 아이디/비밀번호 기반 로그인.
  - `solved.ac` 로그인 기능을 구현하여 사용자 인증.

---

## 2. 통계 관리 (Statistics Service)

### 2.1 문제 풀이 히스토리 저장
- **기능 설명**: 사용자가 풀이한 문제 데이터를 저장.
- **저장 데이터**:
  - 백준 핸들, 문제 번호, 풀이 상태 (성공/실패), 시작 날짜, 제한 시간, 소요 시간, 풀이 언어.
  - TimeLimit Service로부터 데이터를 받아 통계 데이터베이스에 저장.

### 2.2 사용자 통계
- **기능 설명**: 사용자 풀이 히스토리를 바탕으로 통계 제공.
- **요구사항**:
  - 사용자가 이 사이트에서 푼 문제 수 표시.
  - 시간 제한 내 풀이 성공률 계산: `(성공한 문제 개수 / 전체 시도수)`.
  - `solved.ac API`를 활용하여 태그별, 난이도별 문제 풀이 통계 제공.
  - 취약 태그:
    - 풀이 히스토리를 분석하여 취약 태그 상위 5개 제공.

### 2.3 문제별 사용자 랭킹
- **기능 설명**: 문제 풀이 시간을 기준으로 사용자 랭킹 제공.
- **요구사항**:
  - 풀이 시간이 빠른 순으로 상위 100명의 사용자 표시.
  - 문제 제출 시 풀이 성공 시마다 실시간으로 랭킹 갱신.

### 2.4 전체 사용자 랭킹
- **기능 설명**: 사용자 점수를 기준으로 전체 랭킹 제공.
- **요구사항**:
  - 하루에 한 번 갱신.
  - 점수 기준:
    - 문제 1개 성공 시 1점 부여.
    - 100위 안에 들 경우 점수 차등 부여 (100위 1점, 1위 100점).

---

## 3. 문제 뽑기 (Problem Service)

### 3.1 랜덤 문제 제공
- **기능 설명**: 사용자가 풀지 않은 문제를 무작위로 추천.
- **요구사항**:
  - 사용자가 설정한 조건(난이도, 태그, 푼 사람 수)에 맞는 문제 제공.
  - `제외 태그`, `포함 태그` 조건 동시 만족.
  - 조건이 없을 경우 랜덤 문제 추천.

### 3.2 취약 태그 기반 문제 제공
- **기능 설명**: 사용자의 취약 태그를 기반으로 문제 추천.
- **요구사항**:
  - Statistics Service에서 사용자의 취약 태그 리스트 수신.
  - 취약 태그 중 하나 이상을 포함하는 문제 추천.
  - 사용자 백준 티어를 고려하여 난이도 적합성 판단.

### 3.3 지정 문제 제공
- **기능 설명**: 사용자가 지정한 문제를 제공.

---

## 4. 시간 제한 문제 풀이 (Time Service)

### 4.1 문제 풀이 성공 여부 확인
- **기능 설명**: 사용자가 풀이한 문제의 성공 여부를 확인.
- **요구사항**:
  - 문제 풀이 로그를 저장하고 히스토리 전달.
  - Statistics Service에 풀이 로그 데이터를 전달하여 사용자 풀이 히스토리 갱신.
